!function(t){var n={};function e(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(s,r,function(n){return t[n]}.bind(null,r));return s},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";var s={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},r="a".charCodeAt();n.parse=function(t,n,e){var o={},i=0,a=0,c=0,l=e&&e.bigint&&"undefined"!=typeof BigInt;return{data:u("",!0),pointers:o};function u(n,e){var s;h(),x(n,"value");var r=b();switch(r){case"t":f("rue"),s=!0;break;case"f":f("alse"),s=!1;break;case"n":f("ull"),s=null;break;case'"':s=d();break;case"[":s=function(t){h();var n=[],e=0;if("]"==b())return n;p();for(;;){var s=t+"/"+e;n.push(u(s)),h();var r=b();if("]"==r)break;","!=r&&y(),h(),e++}return n}(n);break;case"{":s=function(t){h();var n={};if("}"==b())return n;p();for(;;){var e=v();'"'!=b()&&y();var s=d(),r=t+"/"+g(s);w(r,"key",e),x(r,"keyEnd"),h(),":"!=b()&&y(),h(),n[s]=u(r),h();var o=b();if("}"==o)break;","!=o&&y(),h()}return n}(n);break;default:p(),"-0123456789".indexOf(r)>=0?s=function(){var n="",e=!0;"-"==t[c]&&(n+=b());n+="0"==t[c]?b():k(),"."==t[c]&&(n+=b()+k(),e=!1);"e"!=t[c]&&"E"!=t[c]||(n+=b(),"+"!=t[c]&&"-"!=t[c]||(n+=b()),n+=k(),e=!1);var s=+n;return l&&e&&(s>Number.MAX_SAFE_INTEGER||s<Number.MIN_SAFE_INTEGER)?BigInt(n):s}():N()}return x(n,"valueEnd"),h(),e&&c<t.length&&N(),s}function h(){t:for(;c<t.length;){switch(t[c]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,i++;break;default:break t}c++}}function d(){for(var t,n="";'"'!=(t=b());)"\\"==t?(t=b())in s?n+=s[t]:"u"==t?n+=m():y():n+=t;return n}function f(t){for(var n=0;n<t.length;n++)b()!==t[n]&&y()}function b(){E();var n=t[c];return c++,a++,n}function p(){c--,a--}function m(){for(var t=4,n=0;t--;){n<<=4;var e=b().toLowerCase();e>="a"&&e<="f"?n+=e.charCodeAt()-r+10:e>="0"&&e<="9"?n+=+e:y()}return String.fromCharCode(n)}function k(){for(var n="";t[c]>="0"&&t[c]<="9";)n+=b();if(n.length)return n;E(),N()}function x(t,n){w(t,n,v())}function w(t,n,e){o[t]=o[t]||{},o[t][n]=e}function v(){return{line:i,column:a,pos:c}}function N(){throw new SyntaxError("Unexpected token "+t[c]+" in JSON at position "+c)}function y(){p(),N()}function E(){if(c>=t.length)throw new SyntaxError("Unexpected end of JSON input")}},n.stringify=function(t,n,e){if(i(t)){var s,r,o=0,a="object"==typeof e?e.space:e;switch(typeof a){case"number":var c=a>10?10:a<0?0:Math.floor(a);a=c&&v(c," "),s=c,r=c;break;case"string":a=a.slice(0,10),s=0,r=0;for(var l=0;l<a.length;l++){switch(a[l]){case" ":r++;break;case"\t":r+=4;break;case"\r":r=0;break;case"\n":r=0,o++;break;default:throw new Error("whitespace characters not allowed in JSON")}s++}break;default:a=void 0}var u="",h={},d=0,b=0,p=0,m=e&&e.es6&&"function"==typeof Map;return function t(n,e,s){switch(w(s,"value"),typeof n){case"number":case"bigint":case"boolean":k(""+n);break;case"string":k(f(n));break;case"object":null===n?k("null"):"function"==typeof n.toJSON?k(f(n.toJSON())):Array.isArray(n)?r():m?n.constructor.BYTES_PER_ELEMENT?r():n instanceof Map?c():n instanceof Set?c(!0):o():o()}function r(){if(n.length){k("[");for(var r=e+1,o=0;o<n.length;o++){o&&k(","),x(r);var a=i(n[o])?n[o]:null;t(a,r,s+"/"+o)}x(e),k("]")}else k("[]")}function o(){var r=Object.keys(n);if(r.length){k("{");for(var o=e+1,c=0;c<r.length;c++){var l=r[c],u=n[l];if(i(u)){c&&k(",");var h=s+"/"+g(l);x(o),w(h,"key"),k(f(l)),w(h,"keyEnd"),k(":"),a&&k(" "),t(u,o,h)}}x(e),k("}")}else k("{}")}function c(r){if(n.size){k("{");for(var o=e+1,c=!0,l=n.entries(),u=l.next();!u.done;){var h=u.value,d=h[0],b=!!r||h[1];if(i(b)){c||k(","),c=!1;var p=s+"/"+g(d);x(o),w(p,"key"),k(f(d)),w(p,"keyEnd"),k(":"),a&&k(" "),t(b,o,p)}u=l.next()}x(e),k("}")}else k("{}")}w(s,"valueEnd")}(t,0,""),{json:u,pointers:h}}function k(t){b+=t.length,p+=t.length,u+=t}function x(t){if(a){for(u+="\n"+v(t,a),d++,b=0;t--;)o?(d+=o,b=r):b+=r,p+=s;p+=1}}function w(t,n){h[t]=h[t]||{},h[t][n]={line:d,column:b,pos:p}}function v(t,n){return Array(t+1).join(n)}};var o=["number","bigint","boolean","string","object"];function i(t){return o.indexOf(typeof t)>=0}var a=/"|\\/g,c=/[\b]/g,l=/\f/g,u=/\n/g,h=/\r/g,d=/\t/g;function f(t){return'"'+(t=t.replace(a,"\\$&").replace(l,"\\f").replace(c,"\\b").replace(u,"\\n").replace(h,"\\r").replace(d,"\\t"))+'"'}var b=/~/g,p=/\//g;function g(t){return t.replace(b,"~0").replace(p,"~1")}},function(t,n,e){"use strict";e.r(n);var s={BLOCK:"block",ELEM:"elem",CONTENT:"content",MODS:"mods",MIX:"mix"},r=e(0);function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}const{CONTENT:i}=s,a=Symbol("Position");class c{constructor(t){o(this,"getJson",()=>{try{const t=Object(r.parse)(this.str);this.json=t.data,this.pointers=t.pointers}catch(t){throw new Error("Invalid input data")}return this.match(this.json,""),this.json}),o(this,"match",(t,n)=>{const{value:e,valueEnd:s}=this.pointers[n],[r,o]=[e,s].map(t=>({line:t.line,column:t.column+1})),c=t[i];t[a]={start:r,end:o},c&&(Array.isArray(c)?c.forEach((t,e)=>{this.match(t,`${n}/${i}/${e}`)}):this.match(c,`${n}/${i}`))}),this.str=t,this.json=null,this.pointers=null}}o(c,"key",a);var l=c;const{BLOCK:u,ELEM:h,CONTENT:d,MODS:f,MIX:b}=s,p=l.key;var g=class{constructor(t){this.block=t[u],this.elem=t[h],this.mods=t[f],this.mix=t[b],this.location=t[p],this.selector=this.block+(this.elem?`__${this.elem}`:"")}};class m{constructor(t=[]){this.selectors=t}getSelectors(){return this.selectors}getPhaseHandlersMap(){throw"not implemented"}}m.prototype.phases={in:"in",out:"out",end:"end"},m.HandlerType,m.HandlersMapType;var k=m;k.prototype.phases;var x=class{constructor(t){this.rules=t,this.handlersMap={},this.buildMap()}buildMap(){this.rules.forEach(t=>{const n=t.getSelectors(),e=t.getPhaseHandlersMap();for(let t in e){const s=e[t];n.forEach(n=>{const e=this.getKey(t,n);this.handlersMap[e]||(this.handlersMap[e]=[]),this.handlersMap[e].push(s)})}})}getKey(t,n){return t+"$"+n}call(t,n){const e=this.getKey(t,n.selector);return(this.handlersMap[e]||[]).map(t=>t(n)).filter(t=>t)}callAll(t){const n=[];return this.rules.forEach(e=>{const s=e.getPhaseHandlersMap()[t];s&&n.push(s(null))}),n.filter(t=>t)}};function w(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}const{CONTENT:v}=s,N=k.prototype.phases;const y=["xxxs","xxs","xs","s","m","l","xl","xxl","xxxl","xxxxl","xxxxxl"];class E{constructor(t){this.size=t}add(t){let n=y.indexOf(this.size);return~n&&(n+=t),this.size=y[n],this}check(t){return!(!this.size||!t)&&this.size===t}}function z(t,...n){if(!t||"object"!=typeof t)return;let e=t;for(let t of n)if(e=e[t],void 0===t)return;return e}var M=class{constructor({code:t,error:n,location:e}){this.code=t,this.error=n,this.location=e}};class O extends M{constructor(t){super({code:"WARNING.TEXT_SIZES_SHOULD_BE_EQUAL",error:"Тексты в блоке warning должны быть одного размера.",location:t})}}class S extends M{constructor(t){super({code:"WARNING.INVALID_BUTTON_SIZE",error:"Размер кнопки в блоке warning должен быть на 1 шаг больше эталонного.",location:t})}}class A extends M{constructor(t){super({code:"WARNING.INVALID_BUTTON_POSITION",error:"Блок button в блоке warning должен быть после блока placeholder.",location:t})}}const T=['\n    {\n    "block": "warning",\n    "content": [\n        {"block": "text", "mods": {"size": "l"}},\n        {"block": "text", "mods": {"size": "l"}}\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        {"block": "text", "mods": {"size": "l"}},\n        {"block": "text", "mods": {"size": "m"}}\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        {"block": "text", "mods": {"size": "l"}},\n        {"block": "text", "mods": {"size": "m"}},\n        {\n            "block": "warning",\n            "content": [\n                {"block": "text", "mods": {"size": "l"}},\n                {"block": "text", "mods": {"size": "m"}}\n            ]\n        }\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        {"block": "text", "mods": {"size": "l"}},\n        {"block": "text", "mods": {"size": "l"}},\n        {\n            "block": "warning",\n            "content": [\n                {"block": "text", "mods": {"size": "l"}},\n                {"block": "text", "mods": {"size": "m"}},\n                {\n                    "block": "warning",\n                    "content": [\n                        {"block": "text", "mods": {"size": "m"}},\n                        {"block": "text", "mods": {"size": "m"}},\n                        {\n                            "block": "warning",\n                            "content": [\n                                {"block": "text", "mods": {"size": "l"}},\n                                {"block": "text", "mods": {"size": "m"}}\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        { "block": "text", "mods": { "size": "l" } },\n        { "block": "button", "mods": { "size": "xl" } }\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        { "block": "text", "mods": { "size": "l" } },\n        { "block": "button", "mods": { "size": "s" } }\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        { "block": "placeholder", "mods": { "size": "m" } },\n        {"block": "text", "mods": {"size": "l"}},\n        { "block": "button", "mods": { "size": "m" } }\n    ]\n}\n    ','\n    {\n    "block": "warning",\n    "content": [\n        { "block": "button", "mods": { "size": "m" } },\n        {"block": "text", "mods": {"size": "l"}},\n        { "block": "placeholder", "mods": { "size": "m" } }\n    ]\n}\n    '],_=new class{constructor(t=[]){w(this,"attachRoot",t=>`{"${v}":\n${t}\n}`),w(this,"next",t=>{const n=new g(t),e=this.contentAsArray(t[v]);this.call(N.in,n),e.map(t=>{this.next(t)}),this.call(N.out,n)}),this.ruleClasses=t,this.mediator=null,this.errors=[]}lint(t){this.init();const n=this.attachRoot(t),e=new l(n).getJson(n);return this.next(e),this.callAll(N.end),this.errors}init(){const t=this.ruleClasses.map(t=>new t);this.mediator=new x(t),this.errors=[]}call(t,n){const e=this.mediator.call(t,n);this.addErrors(e)}callAll(t){const n=this.mediator.callAll(t);this.addErrors(n)}addErrors(t){this.errors=[...t,...this.errors]}serializeErrors(){return this.errors.map(({code:t,error:n,location:e})=>{const{start:s,end:r}=e,o={start:{},end:{}};return o.start={column:e.start.col,line:e.start.line},o.end={column:e.end.col,line:e.end.line},{code:t,error:n,location:o}})}contentAsArray(t){return Array.isArray(t)?t:t?[t]:[]}}([class extends k{constructor(){super(["warning","text"]),this.warnings=[],this.textNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const n=this.getLastWarning();n&&(this.textNodes.has(n)||this.textNodes.set(n,[]),this.textNodes.get(n).push(t))}out(t){if("warning"!==t.block)return;const n=this.warnings.pop(),e=this.textNodes.get(n);if(this.textNodes.delete(n),!e)throw"Invalid JSON";const[s,...r]=e,o=z(s.mods,"size"),i=new E(o);for(let n of r){const e=z(n.mods,"size");if(!i.check(e))return new O(t.location)}}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends k{constructor(){super(["warning","button","text"]),this.warnings=[],this.textNodes=new Map,this.buttonNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const n=this.getLastWarning();n&&("text"!==t.block?(this.buttonNodes.has(n)||this.buttonNodes.set(n,[]),this.buttonNodes.get(n).push(t)):this.textNodes.has(n)||this.textNodes.set(n,t))}out(t){if("warning"!==t.block)return;const n=this.warnings.pop(),e=this.textNodes.get(n),s=this.buttonNodes.get(n);if(!s)return;if(this.textNodes.delete(n),this.buttonNodes.delete(n),!e)throw"Invalid JSON";const r=z(e.mods,"size"),o=new E(r);o.add(1);for(let n of s){const e=z(n.mods,"size");if(!o.check(e))return new S(t.location)}}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends k{constructor(){super(["warning","button","placeholder"]),this.warnings=[],this.placeholderNodes=new Map,this.buttonNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const n=this.getLastWarning();return n?"placeholder"===t.block?!this.placeholderNodes.has(n)&&(this.placeholderNodes.set(n,t),this.buttonNodes.has(n))?new A(n.location):void 0:void("button"===t.block&&(this.buttonNodes.has(n)||this.buttonNodes.set(n,t))):void 0}out(t){if("warning"!==t.block)return;const n=this.warnings.pop();this.buttonNodes.delete(n),this.placeholderNodes.delete(n)}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}}]);window.lint=function(t){return _.lint(t)},T.forEach(t=>{const n=window.lint(t);console.log(n)})}]);