!function(t){var e={};function s(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e,s){"use strict";var n={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},r="a".charCodeAt();e.parse=function(t,e,s){var i={},o=0,a=0,c=0,h=s&&s.bigint&&"undefined"!=typeof BigInt;return{data:l("",!0),pointers:i};function l(e,s){var n;u(),N(e,"value");var r=p();switch(r){case"t":f("rue"),n=!0;break;case"f":f("alse"),n=!1;break;case"n":f("ull"),n=null;break;case'"':n=d();break;case"[":n=function(t){u();var e=[],s=0;if("]"==p())return e;g();for(;;){var n=t+"/"+s;e.push(l(n)),u();var r=p();if("]"==r)break;","!=r&&y(),u(),s++}return e}(e);break;case"{":n=function(t){u();var e={};if("}"==p())return e;g();for(;;){var s=m();'"'!=p()&&y();var n=d(),r=t+"/"+b(n);v(r,"key",s),N(r,"keyEnd"),u(),":"!=p()&&y(),u(),e[n]=l(r),u();var i=p();if("}"==i)break;","!=i&&y(),u()}return e}(e);break;default:g(),"-0123456789".indexOf(r)>=0?n=function(){var e="",s=!0;"-"==t[c]&&(e+=p());e+="0"==t[c]?p():x(),"."==t[c]&&(e+=p()+x(),s=!1);"e"!=t[c]&&"E"!=t[c]||(e+=p(),"+"!=t[c]&&"-"!=t[c]||(e+=p()),e+=x(),s=!1);var n=+e;return h&&s&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)?BigInt(e):n}():E()}return N(e,"valueEnd"),u(),s&&c<t.length&&E(),n}function u(){t:for(;c<t.length;){switch(t[c]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,o++;break;default:break t}c++}}function d(){for(var t,e="";'"'!=(t=p());)"\\"==t?(t=p())in n?e+=n[t]:"u"==t?e+=w():y():e+=t;return e}function f(t){for(var e=0;e<t.length;e++)p()!==t[e]&&y()}function p(){k();var e=t[c];return c++,a++,e}function g(){c--,a--}function w(){for(var t=4,e=0;t--;){e<<=4;var s=p().toLowerCase();s>="a"&&s<="f"?e+=s.charCodeAt()-r+10:s>="0"&&s<="9"?e+=+s:y()}return String.fromCharCode(e)}function x(){for(var e="";t[c]>="0"&&t[c]<="9";)e+=p();if(e.length)return e;k(),E()}function N(t,e){v(t,e,m())}function v(t,e,s){i[t]=i[t]||{},i[t][e]=s}function m(){return{line:o,column:a,pos:c}}function E(){throw new SyntaxError("Unexpected token "+t[c]+" in JSON at position "+c)}function y(){g(),E()}function k(){if(c>=t.length)throw new SyntaxError("Unexpected end of JSON input")}},e.stringify=function(t,e,s){if(o(t)){var n,r,i=0,a="object"==typeof s?s.space:s;switch(typeof a){case"number":var c=a>10?10:a<0?0:Math.floor(a);a=c&&m(c," "),n=c,r=c;break;case"string":a=a.slice(0,10),n=0,r=0;for(var h=0;h<a.length;h++){switch(a[h]){case" ":r++;break;case"\t":r+=4;break;case"\r":r=0;break;case"\n":r=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}n++}break;default:a=void 0}var l="",u={},d=0,p=0,g=0,w=s&&s.es6&&"function"==typeof Map;return function t(e,s,n){switch(v(n,"value"),typeof e){case"number":case"bigint":case"boolean":x(""+e);break;case"string":x(f(e));break;case"object":null===e?x("null"):"function"==typeof e.toJSON?x(f(e.toJSON())):Array.isArray(e)?r():w?e.constructor.BYTES_PER_ELEMENT?r():e instanceof Map?c():e instanceof Set?c(!0):i():i()}function r(){if(e.length){x("[");for(var r=s+1,i=0;i<e.length;i++){i&&x(","),N(r);var a=o(e[i])?e[i]:null;t(a,r,n+"/"+i)}N(s),x("]")}else x("[]")}function i(){var r=Object.keys(e);if(r.length){x("{");for(var i=s+1,c=0;c<r.length;c++){var h=r[c],l=e[h];if(o(l)){c&&x(",");var u=n+"/"+b(h);N(i),v(u,"key"),x(f(h)),v(u,"keyEnd"),x(":"),a&&x(" "),t(l,i,u)}}N(s),x("}")}else x("{}")}function c(r){if(e.size){x("{");for(var i=s+1,c=!0,h=e.entries(),l=h.next();!l.done;){var u=l.value,d=u[0],p=!!r||u[1];if(o(p)){c||x(","),c=!1;var g=n+"/"+b(d);N(i),v(g,"key"),x(f(d)),v(g,"keyEnd"),x(":"),a&&x(" "),t(p,i,g)}l=h.next()}N(s),x("}")}else x("{}")}v(n,"valueEnd")}(t,0,""),{json:l,pointers:u}}function x(t){p+=t.length,g+=t.length,l+=t}function N(t){if(a){for(l+="\n"+m(t,a),d++,p=0;t--;)i?(d+=i,p=r):p+=r,g+=n;g+=1}}function v(t,e){u[t]=u[t]||{},u[t][e]={line:d,column:p,pos:g}}function m(t,e){return Array(t+1).join(e)}};var i=["number","bigint","boolean","string","object"];function o(t){return i.indexOf(typeof t)>=0}var a=/"|\\/g,c=/[\b]/g,h=/\f/g,l=/\n/g,u=/\r/g,d=/\t/g;function f(t){return'"'+(t=t.replace(a,"\\$&").replace(h,"\\f").replace(c,"\\b").replace(l,"\\n").replace(u,"\\r").replace(d,"\\t"))+'"'}var p=/~/g,g=/\//g;function b(t){return t.replace(p,"~0").replace(g,"~1")}},function(t,e,s){"use strict";s.r(e);var n={BLOCK:"block",ELEM:"elem",CONTENT:"content",MODS:"mods",MIX:"mix",ELEMMODS:"elemMods"},r=s(0);class i extends Error{constructor(){super("Invalid input")}}class o extends Error{constructor(){super("At least 1 text node expected")}}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const{CONTENT:c}=n,h=Symbol("Position");class l{constructor(t){a(this,"getJson",()=>{try{const t=Object(r.parse)(this.str);this.json=t.data,this.pointers=t.pointers}catch(t){throw new i}return this.match(this.json,""),this.json}),a(this,"match",(t,e)=>{const{value:s,valueEnd:n}=this.pointers[e],[r,i]=[s,n].map(t=>({line:t.line,column:t.column+1})),o=t[c];t[h]={start:r,end:i},o&&(Array.isArray(o)?o.forEach((t,s)=>{this.match(t,`${e}/${c}/${s}`)}):this.match(o,`${e}/${c}`))}),this.str=t,this.json=null,this.pointers=null}}a(l,"key",h);var u=l;const{BLOCK:d,ELEM:f,CONTENT:p,MODS:g,MIX:b,ELEMMODS:w}=n,x=u.key;var N=class{constructor(t){this.block=t[d],this.elem=t[f],this.mods=t[g],this.mix=t[b],this.elemMods=t[w],this.location=t[x],this.selector=this.block+(this.elem?`__${this.elem}`:"")}};class v{constructor(t=[]){this.selectors=t}getSelectors(){return this.selectors}getPhaseHandlersMap(){throw"not implemented"}}v.prototype.phases={in:"in",out:"out",end:"end"},v.HandlerType,v.HandlersMapType;var m=v;m.prototype.phases;var E=class{constructor(t){this.rules=t,this.handlersMap={},this.buildMap()}buildMap(){this.rules.forEach(t=>{const e=t.getSelectors(),s=t.getPhaseHandlersMap();for(let t in s){const n=s[t];e.forEach(e=>{const s=this.getKey(t,e);this.handlersMap[s]||(this.handlersMap[s]=[]),this.handlersMap[s].push(n)})}})}getKey(t,e){return t+"$"+e}call(t,e){const s=this.getKey(t,e.selector),n=this.handlersMap[s]||[];let r=[];return n.forEach(t=>{const s=t(e);s&&(Array.isArray(s)?r=[...s,...r]:r.push(s))}),r}callAll(t){const e=[];return this.rules.forEach(s=>{const n=s.getPhaseHandlersMap()[t];n&&e.push(n(null))}),e.filter(t=>t)}};function y(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const{CONTENT:k}=n,M=m.prototype.phases;const O=["xxxs","xxs","xs","s","m","l","xl","xxl","xxxl","xxxxl","xxxxxl"];class _{constructor(t){this.size=t}add(t){let e=O.indexOf(this.size);return~e&&(e+=t),this.size=O[e],this}check(t){return!(!this.size||!t)&&this.size===t}}function A(t,...e){if(!t||"object"!=typeof t)return;let s=t;for(let t of e)if(s=s[t],void 0===t)return;return s}var I=class{constructor({code:t,error:e,location:s}){this.code=t,this.error=e,this.location=s}};class S extends I{constructor(t){super({code:"WARNING.TEXT_SIZES_SHOULD_BE_EQUAL",error:"Тексты в блоке warning должны быть одного размера.",location:t})}}class T extends I{constructor(t){super({code:"WARNING.INVALID_BUTTON_SIZE",error:"Размер кнопки в блоке warning должен быть на 1 шаг больше эталонного.",location:t})}}class L extends I{constructor(t){super({code:"WARNING.INVALID_BUTTON_POSITION",error:"Блок button в блоке warning должен быть после блока placeholder.",location:t})}}class P extends I{constructor(t){super({code:"WARNING.INVALID_PLACEHOLDER_SIZE",error:"Допустимые размеры для блока placeholder в блоке warning: s, m, l.",location:t})}}class j extends I{constructor(t){super({code:"TEXT.SEVERAL_H1",error:"Заголовок первого уровня на странице должен быть единственным.",location:t})}}class H extends I{constructor(t){super({code:"TEXT.INVALID_H2_POSITION",error:"Заголовок второго уровня не может находиться перед заголовком первого уровня.",location:t})}}class C extends I{constructor(t){super({code:"TEXT.INVALID_H3_POSITION",error:"Заголовок третьего уровня не может находиться перед заголовком второго уровня.",location:t})}}class R extends I{constructor(t){super({code:"GRID.TOO_MUCH_MARKETING_BLOCKS",error:"Маркетинговые блоки не могут занимать больше половины от всех колонок блока grid",location:t})}}const D=["s","m","l"];const W=["commercial","offer"];const z=new class{constructor(t=[]){y(this,"attachRoot",t=>`{"${k}":\n${t}\n}`),y(this,"next",t=>{const e=new N(t),s=this.contentAsArray(t[k]);this.call(M.in,e),s.map(t=>{this.next(t)}),this.call(M.out,e)}),this.ruleClasses=t,this.mediator=null,this.errors=[]}lint(t){this.init();const e=this.attachRoot(t),s=new u(e).getJson(e);return this.next(s),this.callAll(M.end),this.errors}init(){const t=this.ruleClasses.map(t=>new t);this.mediator=new E(t),this.errors=[]}call(t,e){const s=this.mediator.call(t,e);this.addErrors(s)}callAll(t){const e=this.mediator.callAll(t);this.addErrors(e)}addErrors(t){this.errors=[...t,...this.errors]}contentAsArray(t){return Array.isArray(t)?t:t?[t]:[]}}([class extends m{constructor(){super(["warning","text"]),this.warnings=[],this.textNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const e=this.getLastWarning();e&&(this.textNodes.has(e)||this.textNodes.set(e,[]),this.textNodes.get(e).push(t))}out(t){if("warning"!==t.block)return;const e=this.warnings.pop(),s=this.textNodes.get(e);if(this.textNodes.delete(e),!s)throw new o;const[n,...r]=s,i=A(n.mods,"size"),a=new _(i);for(let e of r){const s=A(e.mods,"size");if(!a.check(s))return new S(t.location)}}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends m{constructor(){super(["warning","button","text"]),this.warnings=[],this.textNodes=new Map,this.buttonNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const e=this.getLastWarning();e&&("text"!==t.block?(this.buttonNodes.has(e)||this.buttonNodes.set(e,[]),this.buttonNodes.get(e).push(t)):this.textNodes.has(e)||this.textNodes.set(e,t))}out(t){if("warning"!==t.block)return;const e=this.warnings.pop(),s=this.textNodes.get(e),n=this.buttonNodes.get(e);if(!n)return;if(this.textNodes.delete(e),this.buttonNodes.delete(e),!s)throw new o;const r=A(s.mods,"size"),i=new _(r);i.add(1);const a=[];for(let t of n){const e=A(t.mods,"size");if(!i.check(e)){const e=new T(t.location);a.push(e)}}return a}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends m{constructor(){super(["warning","button","placeholder"]),this.warnings=[],this.placeholderNodes=new Map,this.buttonNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const e=this.getLastWarning();if(e)if("placeholder"!==t.block)"button"===t.block&&(this.buttonNodes.has(e)||this.buttonNodes.set(e,t));else if(!this.placeholderNodes.has(e)){const s=this.buttonNodes.get(e);if(this.placeholderNodes.set(e,t),s)return new L(s.location)}}out(t){if("warning"!==t.block)return;const e=this.warnings.pop();this.buttonNodes.delete(e),this.placeholderNodes.delete(e)}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends m{constructor(){super(["warning","placeholder"]),this.warnings=[]}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);if(!this.getLastWarning())return;const e=A(t.mods,"size");return-1===D.indexOf(e)?new P(t.location):void 0}out(t){if("warning"!==t.block)return;this.warnings.pop()}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends m{constructor(){super(["text"]),this.h1was=!1}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this)}}in(t){if("h1"===A(t.mods,"type")){if(this.h1was)return new j(t.location);this.h1was=!0}}},class extends m{constructor(){super(["text"]),this.h2Nodes=[],this.h1was=!1}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this)}}in(t){const e=A(t.mods,"type");if(e)if("h2"!==e){if("h1"===e&&!this.h1was){this.h1was=!0;const t=[];if(this.h2Nodes.forEach(e=>{const s=new H(e.location);t.push(s)}),t.length)return t}}else this.h2Nodes.push(t)}},class extends m{constructor(){super(["text"]),this.h3Nodes=[],this.h2was=!1}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this)}}in(t){const e=A(t.mods,"type");if(e)if("h3"!==e){if("h2"===e&&!this.h2was){this.h2was=!0;const t=[];if(this.h3Nodes.forEach(e=>{const s=new C(e.location);t.push(s)}),t.length)return t}}else this.h3Nodes.push(t)}},class extends m{constructor(){super(["grid","grid__fraction",...W]),this.grid=null,this.gridFraction=null,this.totalMarketing=0}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if(this.grid&&"grid__fraction"===t.selector)return void(this.gridFraction=t);if("grid"===t.block)return void(this.grid=t);if(!this.gridFraction)return;const e=+A(this.gridFraction.elemMods,"m-col");W.includes(t.block)&&(this.totalMarketing+=e)}out(t){if("grid__fraction"===t.selector)return void(this.gridFraction=null);if("grid"!==t.block)return;const e=+A(t.mods,"m-columns");let s;return 2*this.totalMarketing>=e&&(s=new R(t.location)),this.grid=null,this.gridFraction=null,this.totalMarketing=0,this.totalInfo=0,s}}]);window.lint=function(t){return z.lint(t)}}]);