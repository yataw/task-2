!function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var s={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},r="a".charCodeAt();e.parse=function(t,e,n){var i={},o=0,a=0,c=0,h=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:l("",!0),pointers:i};function l(e,n){var s;u(),v(e,"value");var r=p();switch(r){case"t":f("rue"),s=!0;break;case"f":f("alse"),s=!1;break;case"n":f("ull"),s=null;break;case'"':s=d();break;case"[":s=function(t){u();var e=[],n=0;if("]"==p())return e;g();for(;;){var s=t+"/"+n;e.push(l(s)),u();var r=p();if("]"==r)break;","!=r&&m(),u(),n++}return e}(e);break;case"{":s=function(t){u();var e={};if("}"==p())return e;g();for(;;){var n=y();'"'!=p()&&m();var s=d(),r=t+"/"+b(s);N(r,"key",n),v(r,"keyEnd"),u(),":"!=p()&&m(),u(),e[s]=l(r),u();var i=p();if("}"==i)break;","!=i&&m(),u()}return e}(e);break;default:g(),"-0123456789".indexOf(r)>=0?s=function(){var e="",n=!0;"-"==t[c]&&(e+=p());e+="0"==t[c]?p():x(),"."==t[c]&&(e+=p()+x(),n=!1);"e"!=t[c]&&"E"!=t[c]||(e+=p(),"+"!=t[c]&&"-"!=t[c]||(e+=p()),e+=x(),n=!1);var s=+e;return h&&n&&(s>Number.MAX_SAFE_INTEGER||s<Number.MIN_SAFE_INTEGER)?BigInt(e):s}():E()}return v(e,"valueEnd"),u(),n&&c<t.length&&E(),s}function u(){t:for(;c<t.length;){switch(t[c]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,o++;break;default:break t}c++}}function d(){for(var t,e="";'"'!=(t=p());)"\\"==t?(t=p())in s?e+=s[t]:"u"==t?e+=w():m():e+=t;return e}function f(t){for(var e=0;e<t.length;e++)p()!==t[e]&&m()}function p(){k();var e=t[c];return c++,a++,e}function g(){c--,a--}function w(){for(var t=4,e=0;t--;){e<<=4;var n=p().toLowerCase();n>="a"&&n<="f"?e+=n.charCodeAt()-r+10:n>="0"&&n<="9"?e+=+n:m()}return String.fromCharCode(e)}function x(){for(var e="";t[c]>="0"&&t[c]<="9";)e+=p();if(e.length)return e;k(),E()}function v(t,e){N(t,e,y())}function N(t,e,n){i[t]=i[t]||{},i[t][e]=n}function y(){return{line:o,column:a,pos:c}}function E(){throw new SyntaxError("Unexpected token "+t[c]+" in JSON at position "+c)}function m(){g(),E()}function k(){if(c>=t.length)throw new SyntaxError("Unexpected end of JSON input")}},e.stringify=function(t,e,n){if(o(t)){var s,r,i=0,a="object"==typeof n?n.space:n;switch(typeof a){case"number":var c=a>10?10:a<0?0:Math.floor(a);a=c&&y(c," "),s=c,r=c;break;case"string":a=a.slice(0,10),s=0,r=0;for(var h=0;h<a.length;h++){switch(a[h]){case" ":r++;break;case"\t":r+=4;break;case"\r":r=0;break;case"\n":r=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}s++}break;default:a=void 0}var l="",u={},d=0,p=0,g=0,w=n&&n.es6&&"function"==typeof Map;return function t(e,n,s){switch(N(s,"value"),typeof e){case"number":case"bigint":case"boolean":x(""+e);break;case"string":x(f(e));break;case"object":null===e?x("null"):"function"==typeof e.toJSON?x(f(e.toJSON())):Array.isArray(e)?r():w?e.constructor.BYTES_PER_ELEMENT?r():e instanceof Map?c():e instanceof Set?c(!0):i():i()}function r(){if(e.length){x("[");for(var r=n+1,i=0;i<e.length;i++){i&&x(","),v(r);var a=o(e[i])?e[i]:null;t(a,r,s+"/"+i)}v(n),x("]")}else x("[]")}function i(){var r=Object.keys(e);if(r.length){x("{");for(var i=n+1,c=0;c<r.length;c++){var h=r[c],l=e[h];if(o(l)){c&&x(",");var u=s+"/"+b(h);v(i),N(u,"key"),x(f(h)),N(u,"keyEnd"),x(":"),a&&x(" "),t(l,i,u)}}v(n),x("}")}else x("{}")}function c(r){if(e.size){x("{");for(var i=n+1,c=!0,h=e.entries(),l=h.next();!l.done;){var u=l.value,d=u[0],p=!!r||u[1];if(o(p)){c||x(","),c=!1;var g=s+"/"+b(d);v(i),N(g,"key"),x(f(d)),N(g,"keyEnd"),x(":"),a&&x(" "),t(p,i,g)}l=h.next()}v(n),x("}")}else x("{}")}N(s,"valueEnd")}(t,0,""),{json:l,pointers:u}}function x(t){p+=t.length,g+=t.length,l+=t}function v(t){if(a){for(l+="\n"+y(t,a),d++,p=0;t--;)i?(d+=i,p=r):p+=r,g+=s;g+=1}}function N(t,e){u[t]=u[t]||{},u[t][e]={line:d,column:p,pos:g}}function y(t,e){return Array(t+1).join(e)}};var i=["number","bigint","boolean","string","object"];function o(t){return i.indexOf(typeof t)>=0}var a=/"|\\/g,c=/[\b]/g,h=/\f/g,l=/\n/g,u=/\r/g,d=/\t/g;function f(t){return'"'+(t=t.replace(a,"\\$&").replace(h,"\\f").replace(c,"\\b").replace(l,"\\n").replace(u,"\\r").replace(d,"\\t"))+'"'}var p=/~/g,g=/\//g;function b(t){return t.replace(p,"~0").replace(g,"~1")}},function(t,e,n){"use strict";n.r(e);var s={BLOCK:"block",ELEM:"elem",CONTENT:"content",MODS:"mods",MIX:"mix"},r=n(0);class i extends Error{constructor(){super("Invalid input")}}class o extends Error{constructor(){super("At least 1 text node expected")}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{CONTENT:c}=s,h=Symbol("Position");class l{constructor(t){a(this,"getJson",()=>{try{const t=Object(r.parse)(this.str);this.json=t.data,this.pointers=t.pointers}catch(t){throw new i}return this.match(this.json,""),this.json}),a(this,"match",(t,e)=>{const{value:n,valueEnd:s}=this.pointers[e],[r,i]=[n,s].map(t=>({line:t.line,column:t.column+1})),o=t[c];t[h]={start:r,end:i},o&&(Array.isArray(o)?o.forEach((t,n)=>{this.match(t,`${e}/${c}/${n}`)}):this.match(o,`${e}/${c}`))}),this.str=t,this.json=null,this.pointers=null}}a(l,"key",h);var u=l;const{BLOCK:d,ELEM:f,CONTENT:p,MODS:g,MIX:b}=s,w=u.key;var x=class{constructor(t){this.block=t[d],this.elem=t[f],this.mods=t[g],this.mix=t[b],this.location=t[w],this.selector=this.block+(this.elem?`__${this.elem}`:"")}};class v{constructor(t=[]){this.selectors=t}getSelectors(){return this.selectors}getPhaseHandlersMap(){throw"not implemented"}}v.prototype.phases={in:"in",out:"out",end:"end"},v.HandlerType,v.HandlersMapType;var N=v;N.prototype.phases;var y=class{constructor(t){this.rules=t,this.handlersMap={},this.buildMap()}buildMap(){this.rules.forEach(t=>{const e=t.getSelectors(),n=t.getPhaseHandlersMap();for(let t in n){const s=n[t];e.forEach(e=>{const n=this.getKey(t,e);this.handlersMap[n]||(this.handlersMap[n]=[]),this.handlersMap[n].push(s)})}})}getKey(t,e){return t+"$"+e}call(t,e){const n=this.getKey(t,e.selector),s=this.handlersMap[n]||[];let r=[];return s.forEach(t=>{const n=t(e);n&&(Array.isArray(n)?r=[...n,...r]:r.push(n))}),r}callAll(t){const e=[];return this.rules.forEach(n=>{const s=n.getPhaseHandlersMap()[t];s&&e.push(s(null))}),e.filter(t=>t)}};function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{CONTENT:m}=s,k=N.prototype.phases;const M=["xxxs","xxs","xs","s","m","l","xl","xxl","xxxl","xxxxl","xxxxxl"];class O{constructor(t){this.size=t}add(t){let e=M.indexOf(this.size);return~e&&(e+=t),this.size=M[e],this}check(t){return!(!this.size||!t)&&this.size===t}}function A(t,...e){if(!t||"object"!=typeof t)return;let n=t;for(let t of e)if(n=n[t],void 0===t)return;return n}var S=class{constructor({code:t,error:e,location:n}){this.code=t,this.error=e,this.location=n}};class T extends S{constructor(t){super({code:"WARNING.TEXT_SIZES_SHOULD_BE_EQUAL",error:"Тексты в блоке warning должны быть одного размера.",location:t})}}class I extends S{constructor(t){super({code:"WARNING.INVALID_BUTTON_SIZE",error:"Размер кнопки в блоке warning должен быть на 1 шаг больше эталонного.",location:t})}}class _ extends S{constructor(t){super({code:"WARNING.INVALID_BUTTON_POSITION",error:"Блок button в блоке warning должен быть после блока placeholder.",location:t})}}class L extends S{constructor(t){super({code:"WARNING.INVALID_PLACEHOLDER_SIZE",error:"Допустимые размеры для блока placeholder в блоке warning: s, m, l.",location:t})}}class j extends S{constructor(t){super({code:"TEXT.SEVERAL_H1",error:"Заголовок первого уровня на странице должен быть единственным.",location:t})}}class P extends S{constructor(t){super({code:"TEXT.INVALID_H2_POSITION",error:"Заголовок второго уровня не может находиться перед заголовком первого уровня.",location:t})}}const H=["s","m","l"];const C=new class{constructor(t=[]){E(this,"attachRoot",t=>`{"${m}":\n${t}\n}`),E(this,"next",t=>{const e=new x(t),n=this.contentAsArray(t[m]);this.call(k.in,e),n.map(t=>{this.next(t)}),this.call(k.out,e)}),this.ruleClasses=t,this.mediator=null,this.errors=[]}lint(t){this.init();const e=this.attachRoot(t),n=new u(e).getJson(e);return this.next(n),this.callAll(k.end),this.errors}init(){const t=this.ruleClasses.map(t=>new t);this.mediator=new y(t),this.errors=[]}call(t,e){const n=this.mediator.call(t,e);this.addErrors(n)}callAll(t){const e=this.mediator.callAll(t);this.addErrors(e)}addErrors(t){this.errors=[...t,...this.errors]}contentAsArray(t){return Array.isArray(t)?t:t?[t]:[]}}([class extends N{constructor(){super(["warning","text"]),this.warnings=[],this.textNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const e=this.getLastWarning();e&&(this.textNodes.has(e)||this.textNodes.set(e,[]),this.textNodes.get(e).push(t))}out(t){if("warning"!==t.block)return;const e=this.warnings.pop(),n=this.textNodes.get(e);if(this.textNodes.delete(e),!n)throw new o;const[s,...r]=n,i=A(s.mods,"size"),a=new O(i);for(let e of r){const n=A(e.mods,"size");if(!a.check(n))return new T(t.location)}}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends N{constructor(){super(["warning","button","text"]),this.warnings=[],this.textNodes=new Map,this.buttonNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const e=this.getLastWarning();e&&("text"!==t.block?(this.buttonNodes.has(e)||this.buttonNodes.set(e,[]),this.buttonNodes.get(e).push(t)):this.textNodes.has(e)||this.textNodes.set(e,t))}out(t){if("warning"!==t.block)return;const e=this.warnings.pop(),n=this.textNodes.get(e),s=this.buttonNodes.get(e);if(!s)return;if(this.textNodes.delete(e),this.buttonNodes.delete(e),!n)throw new o;const r=A(n.mods,"size"),i=new O(r);i.add(1);const a=[];for(let t of s){const e=A(t.mods,"size");if(!i.check(e)){const e=new I(t.location);a.push(e)}}return a}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends N{constructor(){super(["warning","button","placeholder"]),this.warnings=[],this.placeholderNodes=new Map,this.buttonNodes=new Map}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);const e=this.getLastWarning();if(e)if("placeholder"!==t.block)"button"===t.block&&(this.buttonNodes.has(e)||this.buttonNodes.set(e,t));else if(!this.placeholderNodes.has(e)){const n=this.buttonNodes.get(e);if(this.placeholderNodes.set(e,t),n)return new _(n.location)}}out(t){if("warning"!==t.block)return;const e=this.warnings.pop();this.buttonNodes.delete(e),this.placeholderNodes.delete(e)}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends N{constructor(){super(["warning","placeholder"]),this.warnings=[]}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this),[this.phases.out]:this.out.bind(this)}}in(t){if("warning"===t.block)return void this.warnings.push(t);if(!this.getLastWarning())return;const e=A(t.mods,"size");return-1===H.indexOf(e)?new L(t.location):void 0}out(t){if("warning"!==t.block)return;this.warnings.pop()}getLastWarning(){const t=this.warnings.length;return this.warnings[t-1]}},class extends N{constructor(){super(["text"]),this.h1was=!1}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this)}}in(t){if("h1"===A(t.mods,"type")){if(this.h1was)return new j(t.location);this.h1was=!0}}},class extends N{constructor(){super(["text"]),this.h2Nodes=[],this.h1was=!1}getPhaseHandlersMap(){return{[this.phases.in]:this.in.bind(this)}}in(t){const e=A(t.mods,"type");if(e)if("h2"!==e){if("h1"===e&&!this.h1was){this.h1was=!0;const t=[];if(this.h2Nodes.forEach(e=>{const n=new P(e.location);t.push(n)}),t.length)return t}}else this.h2Nodes.push(t)}}]);window.lint=function(t){return C.lint(t)}}]);